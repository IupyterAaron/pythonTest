

import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt
print(pd.__version__,np.__version__,sns.__version__)

1.1.5 1.19.1 0.10.1

data = pd.read_csv('data/data1.csv',encoding='utf-8')
data.head(5)

	样本编号 	时间 	硫含量,μg/g 	辛烷值RON 	饱和烃,v%（烷烃+环烷烃） 	烯烃,v% 	芳烃,v% 	溴值\n,gBr/100g 	密度(20℃),\nkg/m? 	硫含量,μg/g.1 	... 	S-ZORB.CAL_1.CANGLIANG.PV 	S-ZORB.FT_1006.DACA.PV 	S-ZORB.FT_5204.DACA.PV 	S-ZORB.FT_1006.TOTALIZERA.PV 	S-ZORB.FT_5204.TOTALIZERA.PV 	S-ZORB.FT_1503.DACA.PV 	S-ZORB.FT_1503.TOTALIZERA.PV 	S-ZORB.FT_1504.DACA.PV 	S-ZORB.FT_1504.TOTALIZERA.PV 	S-ZORB.PC_1001A.PV
0 	1 	2020-5-26 08:00 	188.0 	90.6 	53.23 	24.40 	22.37 	61.49 	726.09 	3.2 	... 	2.0454 	6368.7470 	233.3108 	83086802.0 	832503.795 	2216.4094 	39063124.5 	1840.1447 	39608757.0 	0.3533
1 	2 	2020-5-21 08:00 	169.0 	90.5 	52.30 	26.40 	21.30 	61.88 	731.30 	3.2 	... 	2.0260 	6360.6453 	242.3692 	82318954.0 	803462.665 	2370.5874 	38810581.5 	1641.7326 	39389299.0 	0.3545
2 	3 	2020-5-19 08:00 	177.0 	90.7 	52.30 	26.31 	21.39 	61.72 	729.61 	3.2 	... 	1.9647 	6504.9649 	233.0769 	82012004.0 	791925.055 	2326.4654 	38693812.0 	1600.6758 	39312616.5 	0.3502
3 	4 	2020-5-14 08:00 	159.0 	90.4 	52.30 	26.10 	21.60 	61.33 	725.40 	3.2 	... 	2.0390 	6506.8250 	238.3499 	81231373.5 	762863.810 	2495.2236 	38410862.5 	1563.7122 	39120204.5 	0.3539
4 	5 	2020-5-12 08:00 	173.0 	89.6 	52.24 	26.67 	21.09 	61.33 	725.43 	3.2 	... 	1.9869 	6560.2423 	236.5762 	80915707.5 	751362.300 	2807.7891 	38283000.0 	1554.3574 	39045953.5 	0.3581

5 rows × 370 columns
导入数据成功
首先查看数据属性

data.shape

(325, 370)

data.info

<bound method DataFrame.info of      样本编号               时间  硫含量,μg/g  辛烷值RON  饱和烃,v%（烷烃+环烷烃）  烯烃,v%  芳烃,v%  \
0       1  2020-5-26 08:00     188.0    90.6           53.23  24.40  22.37   
1       2  2020-5-21 08:00     169.0    90.5           52.30  26.40  21.30   
2       3  2020-5-19 08:00     177.0    90.7           52.30  26.31  21.39   
3       4  2020-5-14 08:00     159.0    90.4           52.30  26.10  21.60   
4       5  2020-5-12 08:00     173.0    89.6           52.24  26.67  21.09   
..    ...              ...       ...     ...             ...    ...    ...   
320   321  2017-4-26 08:00     271.4    89.2           47.19  31.30  21.51   
321   322  2017-4-24 08:00     271.4    89.2           47.19  31.30  21.51   
322   323  2017-4-21 08:00     271.4    89.4           47.19  31.30  21.51   
323   324  2017-4-19 08:00     266.0    89.4           46.72  33.78  19.50   
324   325  2017-4-17 08:00     266.0    89.9           46.72  33.78  19.50   

     溴值\n,gBr/100g  密度(20℃),\nkg/m?  硫含量,μg/g.1  ...  \
0            61.49           726.09         3.2  ...   
1            61.88           731.30         3.2  ...   
2            61.72           729.61         3.2  ...   
3            61.33           725.40         3.2  ...   
4            61.33           725.43         3.2  ...   
..             ...              ...         ...  ...   
320          52.02           725.20         3.2  ...   
321          52.02           725.20         3.2  ...   
322          52.02           725.20         3.2  ...   
323          45.45           730.00         3.6  ...   
324          45.45           730.00        11.8  ...   

      S-ZORB.CAL_1.CANGLIANG.PV    S-ZORB.FT_1006.DACA.PV   \
0                         2.0454                 6368.7470   
1                         2.0260                 6360.6453   
2                         1.9647                 6504.9649   
3                         2.0390                 6506.8250   
4                         1.9869                 6560.2423   
..                           ...                       ...   
320                       3.4546                 8328.9748   
321                       2.7526                 8457.8608   
322                       2.9358                 8246.2093   
323                       3.1740                 7998.8024   
324                       2.6426                 8379.9438   

      S-ZORB.FT_5204.DACA.PV    S-ZORB.FT_1006.TOTALIZERA.PV   \
0                    233.3108                     83086802.00   
1                    242.3692                     82318954.00   
2                    233.0769                     82012004.00   
3                    238.3499                     81231373.50   
4                    236.5762                     80915707.50   
..                        ...                             ...   
320                  150.4416                     84087479.25   
321                  148.7484                     83687113.25   
322                  150.0954                     83087625.75   
323                  149.5340                     82696129.75   
324                  158.4092                     82306629.25   

      S-ZORB.FT_5204.TOTALIZERA.PV    S-ZORB.FT_1503.DACA.PV   \
0                        832503.795              2.216409e+03   
1                        803462.665              2.370587e+03   
2                        791925.055              2.326465e+03   
3                        762863.810              2.495224e+03   
4                        751362.300              2.807789e+03   
..                              ...                       ...   
320                     2136687.475              3.159956e+06   
321                     2129270.425              3.662122e+06   
322                     2118469.700              4.415371e+06   
323                     2110959.450              4.917538e+06   
324                     2103369.350              5.419704e+06   

      S-ZORB.FT_1503.TOTALIZERA.PV    S-ZORB.FT_1504.DACA.PV   \
0                       39063124.50                 1840.1447   
1                       38810581.50                 1641.7326   
2                       38693812.00                 1600.6758   
3                       38410862.50                 1563.7122   
4                       38283000.00                 1554.3574   
..                              ...                       ...   
320                      1569503.75                -7028.1167   
321                      1521263.75                -8555.3042   
322                      1448903.75               -10846.0855   
323                      1400663.75               -12373.2728   
324                      1352423.75               -13900.4605   

      S-ZORB.FT_1504.TOTALIZERA.PV    S-ZORB.PC_1001A.PV   
0                        39608757.0                0.3533  
1                        39389299.0                0.3545  
2                        39312616.5                0.3502  
3                        39120204.5                0.3539  
4                        39045953.5                0.3581  
..                              ...                   ...  
320                       1003276.5             -118.2512  
321                        879436.8             -118.7643  
322                        693676.8             -119.5341  
323                        569836.8             -120.0473  
324                        445996.8             -120.5605  

[325 rows x 370 columns]>

data.head(5)

	样本编号 	时间 	硫含量,μg/g 	辛烷值RON 	饱和烃,v%（烷烃+环烷烃） 	烯烃,v% 	芳烃,v% 	溴值\n,gBr/100g 	密度(20℃),\nkg/m? 	硫含量,μg/g.1 	... 	S-ZORB.CAL_1.CANGLIANG.PV 	S-ZORB.FT_1006.DACA.PV 	S-ZORB.FT_5204.DACA.PV 	S-ZORB.FT_1006.TOTALIZERA.PV 	S-ZORB.FT_5204.TOTALIZERA.PV 	S-ZORB.FT_1503.DACA.PV 	S-ZORB.FT_1503.TOTALIZERA.PV 	S-ZORB.FT_1504.DACA.PV 	S-ZORB.FT_1504.TOTALIZERA.PV 	S-ZORB.PC_1001A.PV
0 	1 	2020-5-26 08:00 	188.0 	90.6 	53.23 	24.40 	22.37 	61.49 	726.09 	3.2 	... 	2.0454 	6368.7470 	233.3108 	83086802.0 	832503.795 	2216.4094 	39063124.5 	1840.1447 	39608757.0 	0.3533
1 	2 	2020-5-21 08:00 	169.0 	90.5 	52.30 	26.40 	21.30 	61.88 	731.30 	3.2 	... 	2.0260 	6360.6453 	242.3692 	82318954.0 	803462.665 	2370.5874 	38810581.5 	1641.7326 	39389299.0 	0.3545
2 	3 	2020-5-19 08:00 	177.0 	90.7 	52.30 	26.31 	21.39 	61.72 	729.61 	3.2 	... 	1.9647 	6504.9649 	233.0769 	82012004.0 	791925.055 	2326.4654 	38693812.0 	1600.6758 	39312616.5 	0.3502
3 	4 	2020-5-14 08:00 	159.0 	90.4 	52.30 	26.10 	21.60 	61.33 	725.40 	3.2 	... 	2.0390 	6506.8250 	238.3499 	81231373.5 	762863.810 	2495.2236 	38410862.5 	1563.7122 	39120204.5 	0.3539
4 	5 	2020-5-12 08:00 	173.0 	89.6 	52.24 	26.67 	21.09 	61.33 	725.43 	3.2 	... 	1.9869 	6560.2423 	236.5762 	80915707.5 	751362.300 	2807.7891 	38283000.0 	1554.3574 	39045953.5 	0.3581

5 rows × 370 columns

data.tail

<bound method NDFrame.tail of      样本编号               时间  硫含量,μg/g  辛烷值RON  饱和烃,v%（烷烃+环烷烃）  烯烃,v%  芳烃,v%  \
0       1  2020-5-26 08:00     188.0    90.6           53.23  24.40  22.37   
1       2  2020-5-21 08:00     169.0    90.5           52.30  26.40  21.30   
2       3  2020-5-19 08:00     177.0    90.7           52.30  26.31  21.39   
3       4  2020-5-14 08:00     159.0    90.4           52.30  26.10  21.60   
4       5  2020-5-12 08:00     173.0    89.6           52.24  26.67  21.09   
..    ...              ...       ...     ...             ...    ...    ...   
320   321  2017-4-26 08:00     271.4    89.2           47.19  31.30  21.51   
321   322  2017-4-24 08:00     271.4    89.2           47.19  31.30  21.51   
322   323  2017-4-21 08:00     271.4    89.4           47.19  31.30  21.51   
323   324  2017-4-19 08:00     266.0    89.4           46.72  33.78  19.50   
324   325  2017-4-17 08:00     266.0    89.9           46.72  33.78  19.50   

     溴值\n,gBr/100g  密度(20℃),\nkg/m?  硫含量,μg/g.1  ...  \
0            61.49           726.09         3.2  ...   
1            61.88           731.30         3.2  ...   
2            61.72           729.61         3.2  ...   
3            61.33           725.40         3.2  ...   
4            61.33           725.43         3.2  ...   
..             ...              ...         ...  ...   
320          52.02           725.20         3.2  ...   
321          52.02           725.20         3.2  ...   
322          52.02           725.20         3.2  ...   
323          45.45           730.00         3.6  ...   
324          45.45           730.00        11.8  ...   

      S-ZORB.CAL_1.CANGLIANG.PV    S-ZORB.FT_1006.DACA.PV   \
0                         2.0454                 6368.7470   
1                         2.0260                 6360.6453   
2                         1.9647                 6504.9649   
3                         2.0390                 6506.8250   
4                         1.9869                 6560.2423   
..                           ...                       ...   
320                       3.4546                 8328.9748   
321                       2.7526                 8457.8608   
322                       2.9358                 8246.2093   
323                       3.1740                 7998.8024   
324                       2.6426                 8379.9438   

      S-ZORB.FT_5204.DACA.PV    S-ZORB.FT_1006.TOTALIZERA.PV   \
0                    233.3108                     83086802.00   
1                    242.3692                     82318954.00   
2                    233.0769                     82012004.00   
3                    238.3499                     81231373.50   
4                    236.5762                     80915707.50   
..                        ...                             ...   
320                  150.4416                     84087479.25   
321                  148.7484                     83687113.25   
322                  150.0954                     83087625.75   
323                  149.5340                     82696129.75   
324                  158.4092                     82306629.25   

      S-ZORB.FT_5204.TOTALIZERA.PV    S-ZORB.FT_1503.DACA.PV   \
0                        832503.795              2.216409e+03   
1                        803462.665              2.370587e+03   
2                        791925.055              2.326465e+03   
3                        762863.810              2.495224e+03   
4                        751362.300              2.807789e+03   
..                              ...                       ...   
320                     2136687.475              3.159956e+06   
321                     2129270.425              3.662122e+06   
322                     2118469.700              4.415371e+06   
323                     2110959.450              4.917538e+06   
324                     2103369.350              5.419704e+06   

      S-ZORB.FT_1503.TOTALIZERA.PV    S-ZORB.FT_1504.DACA.PV   \
0                       39063124.50                 1840.1447   
1                       38810581.50                 1641.7326   
2                       38693812.00                 1600.6758   
3                       38410862.50                 1563.7122   
4                       38283000.00                 1554.3574   
..                              ...                       ...   
320                      1569503.75                -7028.1167   
321                      1521263.75                -8555.3042   
322                      1448903.75               -10846.0855   
323                      1400663.75               -12373.2728   
324                      1352423.75               -13900.4605   

      S-ZORB.FT_1504.TOTALIZERA.PV    S-ZORB.PC_1001A.PV   
0                        39608757.0                0.3533  
1                        39389299.0                0.3545  
2                        39312616.5                0.3502  
3                        39120204.5                0.3539  
4                        39045953.5                0.3581  
..                              ...                   ...  
320                       1003276.5             -118.2512  
321                        879436.8             -118.7643  
322                        693676.8             -119.5341  
323                        569836.8             -120.0473  
324                        445996.8             -120.5605  

[325 rows x 370 columns]>

data.shape

(325, 370)

data.dtypes

样本编号                                int64
时间                                 object
硫含量,μg/g                          float64
辛烷值RON                            float64
饱和烃,v%（烷烃+环烷烃）                    float64
                                   ...   
 S-ZORB.FT_1503.DACA.PV           float64
 S-ZORB.FT_1503.TOTALIZERA.PV     float64
 S-ZORB.FT_1504.DACA.PV           float64
 S-ZORB.FT_1504.TOTALIZERA.PV     float64
 S-ZORB.PC_1001A.PV               float64
Length: 370, dtype: object

data.info()

<class 'pandas.core.frame.DataFrame'>
RangeIndex: 325 entries, 0 to 324
Columns: 370 entries, 样本编号 to  S-ZORB.PC_1001A.PV 
dtypes: float64(368), int64(1), object(1)
memory usage: 939.6+ KB

data[1:]

	样本编号 	时间 	硫含量,μg/g 	辛烷值RON 	饱和烃,v%（烷烃+环烷烃） 	烯烃,v% 	芳烃,v% 	溴值\n,gBr/100g 	密度(20℃),\nkg/m? 	硫含量,μg/g.1 	... 	S-ZORB.CAL_1.CANGLIANG.PV 	S-ZORB.FT_1006.DACA.PV 	S-ZORB.FT_5204.DACA.PV 	S-ZORB.FT_1006.TOTALIZERA.PV 	S-ZORB.FT_5204.TOTALIZERA.PV 	S-ZORB.FT_1503.DACA.PV 	S-ZORB.FT_1503.TOTALIZERA.PV 	S-ZORB.FT_1504.DACA.PV 	S-ZORB.FT_1504.TOTALIZERA.PV 	S-ZORB.PC_1001A.PV
1 	2 	2020-5-21 08:00 	169.0 	90.5 	52.30 	26.40 	21.30 	61.88 	731.30 	3.2 	... 	2.0260 	6360.6453 	242.3692 	82318954.00 	803462.665 	2.370587e+03 	38810581.50 	1641.7326 	39389299.0 	0.3545
2 	3 	2020-5-19 08:00 	177.0 	90.7 	52.30 	26.31 	21.39 	61.72 	729.61 	3.2 	... 	1.9647 	6504.9649 	233.0769 	82012004.00 	791925.055 	2.326465e+03 	38693812.00 	1600.6758 	39312616.5 	0.3502
3 	4 	2020-5-14 08:00 	159.0 	90.4 	52.30 	26.10 	21.60 	61.33 	725.40 	3.2 	... 	2.0390 	6506.8250 	238.3499 	81231373.50 	762863.810 	2.495224e+03 	38410862.50 	1563.7122 	39120204.5 	0.3539
4 	5 	2020-5-12 08:00 	173.0 	89.6 	52.24 	26.67 	21.09 	61.33 	725.43 	3.2 	... 	1.9869 	6560.2423 	236.5762 	80915707.50 	751362.300 	2.807789e+03 	38283000.00 	1554.3574 	39045953.5 	0.3581
5 	6 	2020-5-7 08:00 	163.0 	91.0 	52.10 	28.10 	19.80 	61.34 	725.50 	3.2 	... 	1.9969 	4995.8179 	233.1212 	80170440.50 	722436.095 	2.832082e+03 	37948102.00 	1419.5727 	38870284.5 	0.3502
... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	...
320 	321 	2017-4-26 08:00 	271.4 	89.2 	47.19 	31.30 	21.51 	52.02 	725.20 	3.2 	... 	3.4546 	8328.9748 	150.4416 	84087479.25 	2136687.475 	3.159956e+06 	1569503.75 	-7028.1167 	1003276.5 	-118.2512
321 	322 	2017-4-24 08:00 	271.4 	89.2 	47.19 	31.30 	21.51 	52.02 	725.20 	3.2 	... 	2.7526 	8457.8608 	148.7484 	83687113.25 	2129270.425 	3.662122e+06 	1521263.75 	-8555.3042 	879436.8 	-118.7643
322 	323 	2017-4-21 08:00 	271.4 	89.4 	47.19 	31.30 	21.51 	52.02 	725.20 	3.2 	... 	2.9358 	8246.2093 	150.0954 	83087625.75 	2118469.700 	4.415371e+06 	1448903.75 	-10846.0855 	693676.8 	-119.5341
323 	324 	2017-4-19 08:00 	266.0 	89.4 	46.72 	33.78 	19.50 	45.45 	730.00 	3.6 	... 	3.1740 	7998.8024 	149.5340 	82696129.75 	2110959.450 	4.917538e+06 	1400663.75 	-12373.2728 	569836.8 	-120.0473
324 	325 	2017-4-17 08:00 	266.0 	89.9 	46.72 	33.78 	19.50 	45.45 	730.00 	11.8 	... 	2.6426 	8379.9438 	158.4092 	82306629.25 	2103369.350 	5.419704e+06 	1352423.75 	-13900.4605 	445996.8 	-120.5605

324 rows × 370 columns

#提取所有行，0到4列（也可以反过来）
data.iloc[:,0:4]

	样本编号 	时间 	硫含量,μg/g 	辛烷值RON
0 	1 	2020-5-26 08:00 	188.0 	90.6
1 	2 	2020-5-21 08:00 	169.0 	90.5
2 	3 	2020-5-19 08:00 	177.0 	90.7
3 	4 	2020-5-14 08:00 	159.0 	90.4
4 	5 	2020-5-12 08:00 	173.0 	89.6
... 	... 	... 	... 	...
320 	321 	2017-4-26 08:00 	271.4 	89.2
321 	322 	2017-4-24 08:00 	271.4 	89.2
322 	323 	2017-4-21 08:00 	271.4 	89.4
323 	324 	2017-4-19 08:00 	266.0 	89.4
324 	325 	2017-4-17 08:00 	266.0 	89.9

325 rows × 4 columns

data.describe()

	样本编号 	硫含量,μg/g 	辛烷值RON 	饱和烃,v%（烷烃+环烷烃） 	烯烃,v% 	芳烃,v% 	溴值\n,gBr/100g 	密度(20℃),\nkg/m? 	硫含量,μg/g.1 	辛烷值RON.1 	... 	S-ZORB.CAL_1.CANGLIANG.PV 	S-ZORB.FT_1006.DACA.PV 	S-ZORB.FT_5204.DACA.PV 	S-ZORB.FT_1006.TOTALIZERA.PV 	S-ZORB.FT_5204.TOTALIZERA.PV 	S-ZORB.FT_1503.DACA.PV 	S-ZORB.FT_1503.TOTALIZERA.PV 	S-ZORB.FT_1504.DACA.PV 	S-ZORB.FT_1504.TOTALIZERA.PV 	S-ZORB.PC_1001A.PV
count 	325.000000 	325.000000 	325.000000 	325.000000 	325.000000 	325.000000 	325.000000 	325.000000 	325.000000 	325.000000 	... 	325.000000 	325.000000 	325.000000 	3.250000e+02 	3.250000e+02 	3.250000e+02 	3.250000e+02 	325.000000 	3.250000e+02 	325.000000
mean 	163.000000 	229.549231 	89.701538 	52.676215 	25.389200 	21.931692 	53.989200 	726.755231 	4.058154 	88.446769 	... 	2.256077 	4843.993944 	180.358345 	6.719406e+07 	1.113469e+06 	9.008195e+04 	1.521126e+07 	2105.079958 	1.760142e+07 	-33.277533
std 	93.963645 	65.749121 	0.950064 	4.584318 	4.954945 	1.853215 	8.164824 	4.262154 	1.551175 	0.984739 	... 	0.275893 	2359.134697 	253.214719 	3.861360e+07 	1.169934e+06 	5.754798e+05 	1.060279e+07 	1798.246721 	1.172462e+07 	42.008897
min 	1.000000 	57.000000 	85.300000 	43.240000 	14.600000 	16.000000 	6.390000 	715.100000 	3.200000 	85.100000 	... 	1.271300 	0.000000 	0.000000 	0.000000e+00 	3.050138e+04 	6.156110e+01 	0.000000e+00 	-13900.460500 	0.000000e+00 	-120.560500
25% 	82.000000 	185.000000 	89.200000 	49.610000 	21.800000 	20.690000 	48.650000 	724.200000 	3.200000 	87.900000 	... 	2.080600 	4215.424100 	0.000000 	3.272797e+07 	3.518756e+04 	1.870588e+03 	6.520788e+06 	2211.859900 	7.974892e+06 	-72.834600
50% 	163.000000 	240.300000 	89.800000 	53.250000 	24.800000 	21.890000 	53.980000 	726.300000 	3.200000 	88.600000 	... 	2.247000 	5094.966800 	142.936600 	7.252226e+07 	3.631831e+05 	2.177558e+03 	1.381849e+07 	2538.538500 	1.643785e+07 	0.293800
75% 	244.000000 	271.400000 	90.300000 	56.100000 	29.000000 	23.300000 	60.190000 	729.500000 	4.400000 	89.100000 	... 	2.338800 	6129.741900 	217.985500 	1.017919e+08 	2.545050e+06 	2.569868e+03 	2.254427e+07 	2702.628700 	2.678945e+07 	0.350100
max 	325.000000 	392.000000 	91.700000 	63.400000 	34.670000 	26.200000 	70.500000 	738.700000 	11.800000 	90.420000 	... 	3.558800 	11320.456800 	2120.872700 	1.236097e+08 	2.562289e+06 	5.419704e+06 	3.906312e+07 	3104.564800 	3.960876e+07 	0.358100

8 rows × 369 columns

pandas.merge可根据一个或多个键将不同DataFrame中的行连接起来。SQL或其他关系型数据库的用户对此应该会比较熟悉，因为它实现的就是数据库的join操作。

data.isnull().any()

样本编号                              False
时间                                False
硫含量,μg/g                          False
辛烷值RON                            False
饱和烃,v%（烷烃+环烷烃）                    False
                                  ...  
 S-ZORB.FT_1503.DACA.PV           False
 S-ZORB.FT_1503.TOTALIZERA.PV     False
 S-ZORB.FT_1504.DACA.PV           False
 S-ZORB.FT_1504.TOTALIZERA.PV     False
 S-ZORB.PC_1001A.PV               False
Length: 370, dtype: bool

解题思路
首先对数据的处理
两个判别树

    特征处理的判别树】 若样本中所有的值都为空 ------剔除该样本 若缺失值较多 ------用均值代替补充

    样本处理判别树 样本有特征值超限 ------剔除该样本 特征值存在异常取值 ------保持原样

数据处理的流程图

1. 原始数据
2. 去除不符合标准的特征
3. 数据的归一化
4。 低方差滤波
5. 特征选择
6. 得到最终数据

data.head(5)

	样本编号 	时间 	硫含量,μg/g 	辛烷值RON 	饱和烃,v%（烷烃+环烷烃） 	烯烃,v% 	芳烃,v% 	溴值\n,gBr/100g 	密度(20℃),\nkg/m? 	硫含量,μg/g.1 	... 	S-ZORB.CAL_1.CANGLIANG.PV 	S-ZORB.FT_1006.DACA.PV 	S-ZORB.FT_5204.DACA.PV 	S-ZORB.FT_1006.TOTALIZERA.PV 	S-ZORB.FT_5204.TOTALIZERA.PV 	S-ZORB.FT_1503.DACA.PV 	S-ZORB.FT_1503.TOTALIZERA.PV 	S-ZORB.FT_1504.DACA.PV 	S-ZORB.FT_1504.TOTALIZERA.PV 	S-ZORB.PC_1001A.PV
0 	1 	2020-5-26 08:00 	188.0 	90.6 	53.23 	24.40 	22.37 	61.49 	726.09 	3.2 	... 	2.0454 	6368.7470 	233.3108 	83086802.0 	832503.795 	2216.4094 	39063124.5 	1840.1447 	39608757.0 	0.3533
1 	2 	2020-5-21 08:00 	169.0 	90.5 	52.30 	26.40 	21.30 	61.88 	731.30 	3.2 	... 	2.0260 	6360.6453 	242.3692 	82318954.0 	803462.665 	2370.5874 	38810581.5 	1641.7326 	39389299.0 	0.3545
2 	3 	2020-5-19 08:00 	177.0 	90.7 	52.30 	26.31 	21.39 	61.72 	729.61 	3.2 	... 	1.9647 	6504.9649 	233.0769 	82012004.0 	791925.055 	2326.4654 	38693812.0 	1600.6758 	39312616.5 	0.3502
3 	4 	2020-5-14 08:00 	159.0 	90.4 	52.30 	26.10 	21.60 	61.33 	725.40 	3.2 	... 	2.0390 	6506.8250 	238.3499 	81231373.5 	762863.810 	2495.2236 	38410862.5 	1563.7122 	39120204.5 	0.3539
4 	5 	2020-5-12 08:00 	173.0 	89.6 	52.24 	26.67 	21.09 	61.33 	725.43 	3.2 	... 	1.9869 	6560.2423 	236.5762 	80915707.5 	751362.300 	2807.7891 	38283000.0 	1554.3574 	39045953.5 	0.3581

5 rows × 370 columns

data = data.fillna(0)

data.head

<bound method NDFrame.head of      样本编号               时间  硫含量,μg/g  辛烷值RON  饱和烃,v%（烷烃+环烷烃）  烯烃,v%  芳烃,v%  \
0       1  2020-5-26 08:00     188.0    90.6           53.23  24.40  22.37   
1       2  2020-5-21 08:00     169.0    90.5           52.30  26.40  21.30   
2       3  2020-5-19 08:00     177.0    90.7           52.30  26.31  21.39   
3       4  2020-5-14 08:00     159.0    90.4           52.30  26.10  21.60   
4       5  2020-5-12 08:00     173.0    89.6           52.24  26.67  21.09   
..    ...              ...       ...     ...             ...    ...    ...   
320   321  2017-4-26 08:00     271.4    89.2           47.19  31.30  21.51   
321   322  2017-4-24 08:00     271.4    89.2           47.19  31.30  21.51   
322   323  2017-4-21 08:00     271.4    89.4           47.19  31.30  21.51   
323   324  2017-4-19 08:00     266.0    89.4           46.72  33.78  19.50   
324   325  2017-4-17 08:00     266.0    89.9           46.72  33.78  19.50   

     溴值\n,gBr/100g  密度(20℃),\nkg/m?  硫含量,μg/g.1  ...  \
0            61.49           726.09         3.2  ...   
1            61.88           731.30         3.2  ...   
2            61.72           729.61         3.2  ...   
3            61.33           725.40         3.2  ...   
4            61.33           725.43         3.2  ...   
..             ...              ...         ...  ...   
320          52.02           725.20         3.2  ...   
321          52.02           725.20         3.2  ...   
322          52.02           725.20         3.2  ...   
323          45.45           730.00         3.6  ...   
324          45.45           730.00        11.8  ...   

      S-ZORB.CAL_1.CANGLIANG.PV    S-ZORB.FT_1006.DACA.PV   \
0                         2.0454                 6368.7470   
1                         2.0260                 6360.6453   
2                         1.9647                 6504.9649   
3                         2.0390                 6506.8250   
4                         1.9869                 6560.2423   
..                           ...                       ...   
320                       3.4546                 8328.9748   
321                       2.7526                 8457.8608   
322                       2.9358                 8246.2093   
323                       3.1740                 7998.8024   
324                       2.6426                 8379.9438   

      S-ZORB.FT_5204.DACA.PV    S-ZORB.FT_1006.TOTALIZERA.PV   \
0                    233.3108                     83086802.00   
1                    242.3692                     82318954.00   
2                    233.0769                     82012004.00   
3                    238.3499                     81231373.50   
4                    236.5762                     80915707.50   
..                        ...                             ...   
320                  150.4416                     84087479.25   
321                  148.7484                     83687113.25   
322                  150.0954                     83087625.75   
323                  149.5340                     82696129.75   
324                  158.4092                     82306629.25   

      S-ZORB.FT_5204.TOTALIZERA.PV    S-ZORB.FT_1503.DACA.PV   \
0                        832503.795              2.216409e+03   
1                        803462.665              2.370587e+03   
2                        791925.055              2.326465e+03   
3                        762863.810              2.495224e+03   
4                        751362.300              2.807789e+03   
..                              ...                       ...   
320                     2136687.475              3.159956e+06   
321                     2129270.425              3.662122e+06   
322                     2118469.700              4.415371e+06   
323                     2110959.450              4.917538e+06   
324                     2103369.350              5.419704e+06   

      S-ZORB.FT_1503.TOTALIZERA.PV    S-ZORB.FT_1504.DACA.PV   \
0                       39063124.50                 1840.1447   
1                       38810581.50                 1641.7326   
2                       38693812.00                 1600.6758   
3                       38410862.50                 1563.7122   
4                       38283000.00                 1554.3574   
..                              ...                       ...   
320                      1569503.75                -7028.1167   
321                      1521263.75                -8555.3042   
322                      1448903.75               -10846.0855   
323                      1400663.75               -12373.2728   
324                      1352423.75               -13900.4605   

      S-ZORB.FT_1504.TOTALIZERA.PV    S-ZORB.PC_1001A.PV   
0                        39608757.0                0.3533  
1                        39389299.0                0.3545  
2                        39312616.5                0.3502  
3                        39120204.5                0.3539  
4                        39045953.5                0.3581  
..                              ...                   ...  
320                       1003276.5             -118.2512  
321                        879436.8             -118.7643  
322                        693676.8             -119.5341  
323                        569836.8             -120.0473  
324                        445996.8             -120.5605  

[325 rows x 370 columns]>

data.info()

<class 'pandas.core.frame.DataFrame'>
RangeIndex: 325 entries, 0 to 324
Columns: 370 entries, 样本编号 to  S-ZORB.PC_1001A.PV 
dtypes: float64(368), int64(1), object(1)
memory usage: 939.6+ KB

pd.isnull(data)

	样本编号 	时间 	硫含量,μg/g 	辛烷值RON 	饱和烃,v%（烷烃+环烷烃） 	烯烃,v% 	芳烃,v% 	溴值\n,gBr/100g 	密度(20℃),\nkg/m? 	硫含量,μg/g.1 	... 	S-ZORB.CAL_1.CANGLIANG.PV 	S-ZORB.FT_1006.DACA.PV 	S-ZORB.FT_5204.DACA.PV 	S-ZORB.FT_1006.TOTALIZERA.PV 	S-ZORB.FT_5204.TOTALIZERA.PV 	S-ZORB.FT_1503.DACA.PV 	S-ZORB.FT_1503.TOTALIZERA.PV 	S-ZORB.FT_1504.DACA.PV 	S-ZORB.FT_1504.TOTALIZERA.PV 	S-ZORB.PC_1001A.PV
0 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False 	... 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False
1 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False 	... 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False
2 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False 	... 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False
3 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False 	... 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False
4 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False 	... 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False
... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	...
320 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False 	... 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False
321 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False 	... 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False
322 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False 	... 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False
323 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False 	... 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False
324 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False 	... 	False 	False 	False 	False 	False 	False 	False 	False 	False 	False

325 rows × 370 columns

%matplotlib inline

进行数据的简单处理

data.columns

Index(['样本编号', '时间', '硫含量,μg/g', '辛烷值RON', '饱和烃,v%（烷烃+环烷烃）', '烯烃,v%', '芳烃,v%',
       '溴值\n,gBr/100g', '密度(20℃),\nkg/m?', '硫含量,μg/g.1',
       ...
       ' S-ZORB.CAL_1.CANGLIANG.PV ', ' S-ZORB.FT_1006.DACA.PV ',
       ' S-ZORB.FT_5204.DACA.PV ', ' S-ZORB.FT_1006.TOTALIZERA.PV ',
       ' S-ZORB.FT_5204.TOTALIZERA.PV ', ' S-ZORB.FT_1503.DACA.PV ',
       ' S-ZORB.FT_1503.TOTALIZERA.PV ', ' S-ZORB.FT_1504.DACA.PV ',
       ' S-ZORB.FT_1504.TOTALIZERA.PV ', ' S-ZORB.PC_1001A.PV '],
      dtype='object', length=370)

需要去掉空格

col = data.columns.values

col

array(['样本编号', '时间', '硫含量,μg/g', '辛烷值RON', '饱和烃,v%（烷烃+环烷烃）', '烯烃,v%',
       '芳烃,v%', '溴值\n,gBr/100g', '密度(20℃),\nkg/m?', '硫含量,μg/g.1',
       '辛烷值RON.1', 'RON损失\n（不是变量）', ' 焦炭,wt% ', ' S, wt% ', ' 焦炭,wt% .1',
       ' S, wt% .1', ' 氢油比 ', ' 反应过滤器压差 ', ' S-ZORB.PT_2801.PV ',
       ' S-ZORB.FC_2801.PV ', ' S-ZORB.TE_2103.PV ',
       ' S-ZORB.TE_2005.PV ', ' S-ZORB.PT_2101.PV ',
       ' S-ZORB.PDT_2104.PV ', ' S-ZORB.SIS_PDT_2103B.PV ',
       ' S-ZORB.TC_2101.PV ', ' S-ZORB.TE_2301.PV ',
       ' S-ZORB.PT_2301.PV ', ' S-ZORB.FC_2301.PV ',
       ' S-ZORB.PC_2105.PV ', ' S-ZORB.PC_5101.PV ',
       ' S-ZORB.TC_5005.PV ', ' S-ZORB.LC_5001.PV ',
       ' S-ZORB.LC_5101.PV ', ' S-ZORB.TE_5102.PV ',
       ' S-ZORB.TE_5202.PV ', ' S-ZORB.FC_5202.PV ',
       ' S-ZORB.AT_5201.PV ', ' S-ZORB.PT_9301.PV ',
       ' S-ZORB.FT_9301.PV ', ' S-ZORB.FT_1501.PV ',
       ' S-ZORB.FT_5104.PV ', ' S-ZORB.FT_5101.PV ',
       ' S-ZORB.FT_9101.PV ', ' S-ZORB.TE_9001.PV ',
       ' S-ZORB.PT_9001.PV ', ' S-ZORB.FT_9001.PV ',
       ' S-ZORB.FT_9403.PV ', ' S-ZORB.PT_9403.PV ',
       ' S-ZORB.TE_9301.PV ', ' S-ZORB.FT_9201.PV ',
       ' S-ZORB.FT_9202.PV ', ' S-ZORB.FT_9302.PV ',
       ' S-ZORB.FT_3301.PV ', ' S-ZORB.FT_9402.PV ',
       ' S-ZORB.PT_9402.PV ', ' S-ZORB.FT_9401.PV ',
       ' S-ZORB.PT_9401.PV ', ' S-ZORB.PDC_2502.PV ',
       ' S-ZORB.FC_2501.PV ', ' S-ZORB.FT_1001.PV ',
       ' S-ZORB.FT_1002.PV ', ' S-ZORB.FT_1003.PV ',
       ' S-ZORB.FT_1004.PV ', ' S-ZORB.SIS_LT_1001.PV ',
       ' S-ZORB.TE_1001.PV ', ' S-ZORB.FC_1005.PV ',
       ' S-ZORB.FC_1101.PV ', ' S-ZORB.FC_1102.PV ',
       ' S-ZORB.AT_1001.PV ', ' S-ZORB.TE_1105.PV ',
       ' S-ZORB.PDI_1102.PV ', ' S-ZORB.TE_1601.PV ',
       ' S-ZORB.SIS_TE_6010.PV ', ' S-ZORB.PC_6001.PV ',
       ' S-ZORB.AC_6001.PV ', ' S-ZORB.TE_1608.PV ',
       ' S-ZORB.TC_1606.PV ', ' S-ZORB.PT_6002.PV ',
       ' S-ZORB.PC_1603.PV ', ' S-ZORB.PT_1602A.PV ',
       ' S-ZORB.PC_1301.PV ', ' S-ZORB.PT_1201.PV ',
       ' S-ZORB.LC_1201.PV ', ' S-ZORB.FC_1201.PV ',
       ' S-ZORB.TE_1201.PV ', ' S-ZORB.TE_1203.PV ',
       ' S-ZORB.LC_1202.PV ', ' S-ZORB.FC_1203.PV ',
       ' S-ZORB.FC_1202.PV ', ' S-ZORB.PC_1202.PV ',
       ' S-ZORB.TC_2801.PV ', ' S-ZORB.FC_3101.PV ',
       ' S-ZORB.FC_3103.PV ', ' S-ZORB.FC_2601.PV ',
       ' S-ZORB.PC_2601.PV ', ' S-ZORB.PDT_2604.PV ',
       ' S-ZORB.TE_2601.PV ', ' S-ZORB.TC_2607.PV ',
       ' S-ZORB.AI_2903.PV ', ' S-ZORB.PDI_2703A.PV ',
       ' S-ZORB.PDC_2607.PV ', ' S-ZORB.FT_9102.PV ',
       ' S-ZORB.PT_1501.PV ', ' S-ZORB.FT_1002.TOTAL ',
       ' S-ZORB.FT_1004.TOTAL ', ' S-ZORB.FT_9001.TOTAL ',
       ' S-ZORB.FT_5104.TOTAL ', ' S-ZORB.FT_5201.TOTAL ',
       ' S-ZORB.FT_5101.TOTAL ', ' S-ZORB.FT_9101.TOTAL ',
       ' S-ZORB.FT_1501.TOTAL ', ' S-ZORB.FT_1003.TOTAL ',
       ' S-ZORB.FT_3301.TOTAL ', ' S-ZORB.FT_9201.TOTAL ',
       ' S-ZORB.FT_9202.TOTAL ', ' S-ZORB.FT_9301.TOTAL ',
       ' S-ZORB.FT_9302.TOTAL ', ' S-ZORB.FT_9401.TOTAL ',
       ' S-ZORB.FT_9402.TOTAL ', ' S-ZORB.FT_9403.TOTAL ',
       ' S-ZORB.FT_1202.TOTAL ', ' S-ZORB.FT_5201.PV ',
       ' S-ZORB.FC_1101.TOTAL ', ' S-ZORB.FT_1204.PV ',
       ' S-ZORB.FT_5102.PV ', ' S-ZORB.FT_1204.TOTAL ',
       ' S-ZORB.FT_5102.TOTAL ', ' S-ZORB.FC_1202.TOTAL ',
       ' S-ZORB.FT_9102.TOTAL ', ' S-ZORB.FT_1001.TOTAL ',
       ' S-ZORB.TE_1101.DACA ', ' S-ZORB.PT_1102.DACA ',
       ' S-ZORB.PT_1103.DACA ', ' S-ZORB.TE_1104.DACA ',
       ' S-ZORB.TE_1107.DACA ', ' S-ZORB.TE_1103.DACA ',
       ' S-ZORB.TE_1106.DACA ', ' S-ZORB.LI_9102.DACA ',
       ' S-ZORB.TE_9003.DACA ', ' S-ZORB.TE_9002.DACA ',
       ' S-ZORB.FT_9002.DACA ', ' S-ZORB.PC_9002.DACA ',
       ' S-ZORB.LT_9001.DACA ', ' S-ZORB.LC_5002.DACA ',
       ' S-ZORB.LC_5102.DACA ', ' S-ZORB.LT_3801.DACA ',
       ' S-ZORB.LT_3101.DACA ', ' S-ZORB.PC_3101.DACA ',
       ' S-ZORB.TE_3101.DACA ', ' S-ZORB.FT_3303.DACA ',
       ' S-ZORB.LC_3301.DACA ', ' S-ZORB.PC_3301.DACA ',
       ' S-ZORB.FT_3304.DACA ', ' S-ZORB.LT_1501.DACA ',
       ' S-ZORB.TE_1501.DACA ', ' S-ZORB.TE_1502.DACA ',
       ' S-ZORB.LC_1203.DACA ', ' S-ZORB.LT_2101.DACA ',
       ' S-ZORB.FT_3001.DACA ', ' S-ZORB.FT_2701.DACA ',
       ' S-ZORB.SIS_PT_2703 ', ' S-ZORB.FC_2702.DACA ',
       ' S-ZORB.TC_2702.DACA ', ' S-ZORB.PT_2905.DACA ',
       ' S-ZORB.LT_2901.DACA ', ' S-ZORB.FT_2901.DACA ',
       ' S-ZORB.TE_2901.DACA ', ' S-ZORB.TE_2902.DACA ',
       ' S-ZORB.FT_2502.DACA ', ' S-ZORB.TE_2501.DACA ',
       ' S-ZORB.PT_2501.DACA ', ' S-ZORB.PT_2502.DACA ',
       ' S-ZORB.PDT_2503.DACA ', ' S-ZORB.ZT_2533.DACA ',
       ' S-ZORB.FT_2433.DACA ', ' S-ZORB.TE_2401.DACA ',
       ' S-ZORB.FC_2432.DACA ', ' S-ZORB.FT_2303.DACA ',
       ' S-ZORB.FT_2302.DACA ', ' S-ZORB.LT_1301.DACA ',
       ' S-ZORB.SIS_TE_2802 ', ' S-ZORB.LT_1002.DACA ',
       ' S-ZORB.TE_5002.DACA ', ' S-ZORB.TE_5004.DACA ',
       ' S-ZORB.FC_5203.DACA ', ' S-ZORB.TE_5006.DACA ',
       ' S-ZORB.TE_5003.DACA ', ' S-ZORB.TE_5201.DACA ',
       ' S-ZORB.TE_5101.DACA ', ' S-ZORB.FT_2431.DACA ',
       ' S-ZORB.TC_2201.PV ', ' S-ZORB.TC_2201.OP ',
       ' S-ZORB.FT_3201.DACA ', ' S-ZORB.SIS_PT_2602.PV ',
       ' S-ZORB.SIS_TE_2606.PV ', ' S-ZORB.SIS_TE_2605.PV ',
       ' S-ZORB.PDT_2704.DACA ', ' S-ZORB.PDT_2703B.DACA ',
       ' S-ZORB.PDC_2702.DACA ', ' S-ZORB.PDI_2501.DACA ',
       ' S-ZORB.AT_1001.DACA ', ' S-ZORB.PT_6009.DACA ',
       ' S-ZORB.LI_2107.DACA ', ' S-ZORB.LI_2104.DACA ',
       ' S-ZORB.TE_6002.DACA ', ' S-ZORB.TE_6001.DACA ',
       ' S-ZORB.PT_1101.DACA ', ' S-ZORB.FT_3501.DACA ',
       ' S-ZORB.PC_3001.DACA ', ' S-ZORB.FC_5103.DACA ',
       ' S-ZORB.TE_5001.DACA ', ' S-ZORB.FT_2002.DACA ',
       ' S-ZORB.PDT_3601.DACA ', ' S-ZORB.PDT_3602.DACA ',
       ' S-ZORB.PT_6006.DACA ', ' S-ZORB.SIS_TE_6009.PV ',
       ' S-ZORB.SIS_PT_6007.PV ', ' S-ZORB.TE_6008.DACA ',
       ' S-ZORB.PT_5201.DACA ', ' S-ZORB.FC_1104.DACA ',
       ' S-ZORB.PC_3501.DACA ', ' S-ZORB.FT_2001.DACA ',
       ' S-ZORB.FT_2803.DACA ', ' S-ZORB.LT_9101.DACA ',
       ' S-ZORB.PDI_2801.DACA ', ' S-ZORB.PT_6003.DACA ',
       ' S-ZORB.AT_6201.DACA ', ' S-ZORB.PDI_2301.DACA ',
       ' S-ZORB.PDI_2105.DACA ', ' S-ZORB.PC_2902.DACA ',
       ' S-ZORB.FT_1502.DACA ', ' S-ZORB.BS_LT_2401.PV ',
       ' S-ZORB.BS_AT_2402.PV ', ' S-ZORB.PC_2401.DACA ',
       ' S-ZORB.BS_AT_2401.PV ', ' S-ZORB.PC_2401B.DACA ',
       ' S-ZORB.FT_3701.DACA ', ' S-ZORB.FT_3702.DACA ',
       ' S-ZORB.PT_2603.DACA ', ' S-ZORB.LC_2601.DACA ',
       ' S-ZORB.PDT_2605.DACA ', ' S-ZORB.PT_2607.DACA ',
       ' S-ZORB.PDT_2606.DACA ', ' S-ZORB.ZT_2634.DACA ',
       ' S-ZORB.TE_2608.DACA ', ' S-ZORB.TE_2603.DACA ',
       ' S-ZORB.TE_2604.DACA ', ' S-ZORB.DT_2001.DACA ',
       ' S-ZORB.DT_2107.DACA ', ' S-ZORB.TE_2104.DACA ',
       ' S-ZORB.PDT_2001.DACA ', ' S-ZORB.TE_2002.DACA ',
       ' S-ZORB.TE_2001.DACA ', ' S-ZORB.TE_2004.DACA ',
       ' S-ZORB.TE_2003.DACA ', ' S-ZORB.PC_2401B.PIDA.SP ',
       ' S-ZORB.PC_2401B.PIDA.OP ', ' S-ZORB.PC_2401.PIDA.OP ',
       ' S-ZORB.PC_2401.PIDA.SP ', ' S-ZORB.FT_3302.DACA ',
       ' S-ZORB.PDT_1003.DACA ', ' S-ZORB.PDT_1002.DACA ',
       ' S-ZORB.PDT_2409.DACA ', ' S-ZORB.PDT_3503.DACA ',
       ' S-ZORB.PDT_3502.DACA ', ' S-ZORB.PDT_2906.DACA ',
       ' S-ZORB.PDT_3002.DACA ', ' S-ZORB.PDT_1004.DACA ',
       ' S-ZORB.PDI_2903.DACA ', ' S-ZORB.PT_2901.DACA ',
       ' S-ZORB.PT_2106.DACA ', ' S-ZORB.FT_1301.DACA ',
       ' S-ZORB.PT_7510B.DACA ', ' S-ZORB.TE_7508B.DACA ',
       ' S-ZORB.PT_7508B.DACA ', ' S-ZORB.TE_7506B.DACA ',
       ' S-ZORB.PT_7510.DACA ', ' S-ZORB.TE_7508.DACA ',
       ' S-ZORB.PT_7508.DACA ', ' S-ZORB.TE_7506.DACA ',
       ' S-ZORB.PT_7505B.DACA ', ' S-ZORB.TE_7504B.DACA ',
       ' S-ZORB.PT_7503B.DACA ', ' S-ZORB.TE_7502B.DACA ',
       ' S-ZORB.PT_7505.DACA ', ' S-ZORB.TE_7504.DACA ',
       ' S-ZORB.PT_7503.DACA ', ' S-ZORB.PT_7502.DACA ',
       ' S-ZORB.TE_7106B.DACA ', ' S-ZORB.TE_7108B.DACA ',
       ' S-ZORB.PT_7107B.DACA ', ' S-ZORB.PT_7103B.DACA ',
       ' S-ZORB.TE_7102B.DACA ', ' S-ZORB.TE_7106.DACA ',
       ' S-ZORB.PT_7107.DACA ', ' S-ZORB.PT_7103.DACA ',
       ' S-ZORB.TE_7102.DACA ', ' S-ZORB.HIC_2533.AUTOMANA.OP ',
       ' S-ZORB.FC_2432.PIDA.SP ', ' S-ZORB.PT_1604.DACA ',
       ' S-ZORB.TC_1607.DACA ', ' S-ZORB.PT_6005.DACA ',
       ' S-ZORB.PT_6008.DACA ', ' S-ZORB.PT_1601.DACA ',
       ' S-ZORB.TE_1605.DACA ', ' S-ZORB.TE_1604.DACA ',
       ' S-ZORB.TE_1603.DACA ', ' S-ZORB.TE_1602.DACA ',
       ' S-ZORB.SIS_FT_3202.PV ', ' S-ZORB.TXE_3202A.DACA ',
       ' S-ZORB.TXE_3201A.DACA ', ' S-ZORB.TC_3203.DACA ',
       ' S-ZORB.SIS_TEX_3103B.PV ', ' S-ZORB.TEX_3103A.DACA ',
       ' S-ZORB.TE_3111.DACA ', ' S-ZORB.TE_3112.DACA ',
       ' S-ZORB.TXE_2203A.DACA ', ' S-ZORB.TXE_2202A.DACA ',
       ' S-ZORB.TE_5008.DACA ', ' S-ZORB.TE_5009.DACA ',
       ' S-ZORB.FC_5001.DACA ', ' S-ZORB.TE_5007.DACA ',
       ' S-ZORB.TE_1504.DACA ', ' S-ZORB.TE_1503.DACA ',
       ' S-ZORB.TC_3102.DACA ', ' S-ZORB.TE_1102.DACA ',
       ' S-ZORB.AT-0001.DACA.PV ', ' S-ZORB.AT-0002.DACA.PV ',
       ' S-ZORB.AT-0003.DACA.PV ', ' S-ZORB.AT-0004.DACA.PV ',
       ' S-ZORB.AT-0005.DACA.PV ', ' S-ZORB.AT-0006.DACA.PV ',
       ' S-ZORB.AT-0007.DACA.PV ', ' S-ZORB.AT-0008.DACA.PV ',
       ' S-ZORB.AT-0009.DACA.PV ', ' S-ZORB.AT-0010.DACA.PV ',
       ' S-ZORB.AT-0011.DACA.PV ', ' S-ZORB.AT-0012.DACA.PV ',
       ' S-ZORB.AT-0013.DACA.PV ', ' S-ZORB.TE_2104.DACA.PV ',
       ' S-ZORB.SIS_PDT_2103A.PV ', ' S-ZORB.PT_2106.DACA.PV ',
       ' S-ZORB.TE_6008.DACA.PV ', ' S-ZORB.TE_6001.DACA.PV ',
       ' S-ZORB.FT_1204.DACA.PV ', ' S-ZORB.LC_1203.PIDA.PV ',
       ' S-ZORB.FT_5102.DACA.PV ', ' S-ZORB.LC_5102.PIDA.PV ',
       ' S-ZORB.TE_1103.DACA.PV ', ' S-ZORB.TE_1104.DACA.PV ',
       ' S-ZORB.TE_1102.DACA.PV ', ' S-ZORB.TE_1106.DACA.PV ',
       ' S-ZORB.TE_1107.DACA.PV ', ' S-ZORB.TE_1101.DACA.PV ',
       ' S-ZORB.CAL.LINE.PV ', ' S-ZORB.CAL.CANGLIANG.PV ',
       ' S-ZORB.CAL.SPEED.PV ', ' S-ZORB.CAL.LEVEL.PV ',
       ' S-ZORB.RXL_0001.AUXCALCA.PV ', ' S-ZORB.CAL_1.CANGLIANG.PV ',
       ' S-ZORB.FT_1006.DACA.PV ', ' S-ZORB.FT_5204.DACA.PV ',
       ' S-ZORB.FT_1006.TOTALIZERA.PV ', ' S-ZORB.FT_5204.TOTALIZERA.PV ',
       ' S-ZORB.FT_1503.DACA.PV ', ' S-ZORB.FT_1503.TOTALIZERA.PV ',
       ' S-ZORB.FT_1504.DACA.PV ', ' S-ZORB.FT_1504.TOTALIZERA.PV ',
       ' S-ZORB.PC_1001A.PV '], dtype=object)

# 使用strap 去除空格
data.columns = [x.strip() for x in col]

data.columns

Index(['样本编号', '时间', '硫含量,μg/g', '辛烷值RON', '饱和烃,v%（烷烃+环烷烃）', '烯烃,v%', '芳烃,v%',
       '溴值\n,gBr/100g', '密度(20℃),\nkg/m?', '硫含量,μg/g.1',
       ...
       'S-ZORB.CAL_1.CANGLIANG.PV', 'S-ZORB.FT_1006.DACA.PV',
       'S-ZORB.FT_5204.DACA.PV', 'S-ZORB.FT_1006.TOTALIZERA.PV',
       'S-ZORB.FT_5204.TOTALIZERA.PV', 'S-ZORB.FT_1503.DACA.PV',
       'S-ZORB.FT_1503.TOTALIZERA.PV', 'S-ZORB.FT_1504.DACA.PV',
       'S-ZORB.FT_1504.TOTALIZERA.PV', 'S-ZORB.PC_1001A.PV'],
      dtype='object', length=370)

# 查看重复值
data.duplicated()

0      False
1      False
2      False
3      False
4      False
       ...  
320    False
321    False
322    False
323    False
324    False
Length: 325, dtype: bool

data.duplicated().sum()

0

因为存在日期等元素 故不存在重复值

'''
data.drop_duplicates(inplace=True)
inplace=True 表示在原数据集上进行操作
'''

'\ndata.drop_duplicates(inplace=True)\ninplace=True 表示在原数据集上进行操作\n'

data.shape

(325, 370)

data

	样本编号 	时间 	硫含量,μg/g 	辛烷值RON 	饱和烃,v%（烷烃+环烷烃） 	烯烃,v% 	芳烃,v% 	溴值\n,gBr/100g 	密度(20℃),\nkg/m? 	硫含量,μg/g.1 	... 	S-ZORB.CAL_1.CANGLIANG.PV 	S-ZORB.FT_1006.DACA.PV 	S-ZORB.FT_5204.DACA.PV 	S-ZORB.FT_1006.TOTALIZERA.PV 	S-ZORB.FT_5204.TOTALIZERA.PV 	S-ZORB.FT_1503.DACA.PV 	S-ZORB.FT_1503.TOTALIZERA.PV 	S-ZORB.FT_1504.DACA.PV 	S-ZORB.FT_1504.TOTALIZERA.PV 	S-ZORB.PC_1001A.PV
0 	1 	2020-5-26 08:00 	188.0 	90.6 	53.23 	24.40 	22.37 	61.49 	726.09 	3.2 	... 	2.0454 	6368.7470 	233.3108 	83086802.00 	832503.795 	2.216409e+03 	39063124.50 	1840.1447 	39608757.0 	0.3533
1 	2 	2020-5-21 08:00 	169.0 	90.5 	52.30 	26.40 	21.30 	61.88 	731.30 	3.2 	... 	2.0260 	6360.6453 	242.3692 	82318954.00 	803462.665 	2.370587e+03 	38810581.50 	1641.7326 	39389299.0 	0.3545
2 	3 	2020-5-19 08:00 	177.0 	90.7 	52.30 	26.31 	21.39 	61.72 	729.61 	3.2 	... 	1.9647 	6504.9649 	233.0769 	82012004.00 	791925.055 	2.326465e+03 	38693812.00 	1600.6758 	39312616.5 	0.3502
3 	4 	2020-5-14 08:00 	159.0 	90.4 	52.30 	26.10 	21.60 	61.33 	725.40 	3.2 	... 	2.0390 	6506.8250 	238.3499 	81231373.50 	762863.810 	2.495224e+03 	38410862.50 	1563.7122 	39120204.5 	0.3539
4 	5 	2020-5-12 08:00 	173.0 	89.6 	52.24 	26.67 	21.09 	61.33 	725.43 	3.2 	... 	1.9869 	6560.2423 	236.5762 	80915707.50 	751362.300 	2.807789e+03 	38283000.00 	1554.3574 	39045953.5 	0.3581
... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	...
320 	321 	2017-4-26 08:00 	271.4 	89.2 	47.19 	31.30 	21.51 	52.02 	725.20 	3.2 	... 	3.4546 	8328.9748 	150.4416 	84087479.25 	2136687.475 	3.159956e+06 	1569503.75 	-7028.1167 	1003276.5 	-118.2512
321 	322 	2017-4-24 08:00 	271.4 	89.2 	47.19 	31.30 	21.51 	52.02 	725.20 	3.2 	... 	2.7526 	8457.8608 	148.7484 	83687113.25 	2129270.425 	3.662122e+06 	1521263.75 	-8555.3042 	879436.8 	-118.7643
322 	323 	2017-4-21 08:00 	271.4 	89.4 	47.19 	31.30 	21.51 	52.02 	725.20 	3.2 	... 	2.9358 	8246.2093 	150.0954 	83087625.75 	2118469.700 	4.415371e+06 	1448903.75 	-10846.0855 	693676.8 	-119.5341
323 	324 	2017-4-19 08:00 	266.0 	89.4 	46.72 	33.78 	19.50 	45.45 	730.00 	3.6 	... 	3.1740 	7998.8024 	149.5340 	82696129.75 	2110959.450 	4.917538e+06 	1400663.75 	-12373.2728 	569836.8 	-120.0473
324 	325 	2017-4-17 08:00 	266.0 	89.9 	46.72 	33.78 	19.50 	45.45 	730.00 	11.8 	... 	2.6426 	8379.9438 	158.4092 	82306629.25 	2103369.350 	5.419704e+06 	1352423.75 	-13900.4605 	445996.8 	-120.5605

325 rows × 370 columns
创建一个索引

data.index = range(data.shape[0])

data.index

RangeIndex(start=0, stop=325, step=1)

异常值的处理

data_T = data.describe().T

data_T

	count 	mean 	std 	min 	25% 	50% 	75% 	max
样本编号 	325.0 	1.630000e+02 	9.396365e+01 	1.0000 	8.200000e+01 	1.630000e+02 	2.440000e+02 	3.250000e+02
硫含量,μg/g 	325.0 	2.295492e+02 	6.574912e+01 	57.0000 	1.850000e+02 	2.403000e+02 	2.714000e+02 	3.920000e+02
辛烷值RON 	325.0 	8.970154e+01 	9.500637e-01 	85.3000 	8.920000e+01 	8.980000e+01 	9.030000e+01 	9.170000e+01
饱和烃,v%（烷烃+环烷烃） 	325.0 	5.267622e+01 	4.584318e+00 	43.2400 	4.961000e+01 	5.325000e+01 	5.610000e+01 	6.340000e+01
烯烃,v% 	325.0 	2.538920e+01 	4.954945e+00 	14.6000 	2.180000e+01 	2.480000e+01 	2.900000e+01 	3.467000e+01
... 	... 	... 	... 	... 	... 	... 	... 	...
S-ZORB.FT_1503.DACA.PV 	325.0 	9.008195e+04 	5.754798e+05 	61.5611 	1.870588e+03 	2.177558e+03 	2.569868e+03 	5.419704e+06
S-ZORB.FT_1503.TOTALIZERA.PV 	325.0 	1.521126e+07 	1.060279e+07 	0.0000 	6.520788e+06 	1.381849e+07 	2.254427e+07 	3.906312e+07
S-ZORB.FT_1504.DACA.PV 	325.0 	2.105080e+03 	1.798247e+03 	-13900.4605 	2.211860e+03 	2.538539e+03 	2.702629e+03 	3.104565e+03
S-ZORB.FT_1504.TOTALIZERA.PV 	325.0 	1.760142e+07 	1.172462e+07 	0.0000 	7.974892e+06 	1.643785e+07 	2.678945e+07 	3.960876e+07
S-ZORB.PC_1001A.PV 	325.0 	-3.327753e+01 	4.200890e+01 	-120.5605 	-7.283460e+01 	2.938000e-01 	3.501000e-01 	3.581000e-01

369 rows × 8 columns
开始寻找每列的异常值

col = data.columns

col

Index(['样本编号', '时间', '硫含量,μg/g', '辛烷值RON', '饱和烃,v%（烷烃+环烷烃）', '烯烃,v%', '芳烃,v%',
       '溴值\n,gBr/100g', '密度(20℃),\nkg/m?', '硫含量,μg/g.1',
       ...
       'S-ZORB.CAL_1.CANGLIANG.PV', 'S-ZORB.FT_1006.DACA.PV',
       'S-ZORB.FT_5204.DACA.PV', 'S-ZORB.FT_1006.TOTALIZERA.PV',
       'S-ZORB.FT_5204.TOTALIZERA.PV', 'S-ZORB.FT_1503.DACA.PV',
       'S-ZORB.FT_1503.TOTALIZERA.PV', 'S-ZORB.FT_1504.DACA.PV',
       'S-ZORB.FT_1504.TOTALIZERA.PV', 'S-ZORB.PC_1001A.PV'],
      dtype='object', length=370)

data[col[6]]

0      22.37
1      21.30
2      21.39
3      21.60
4      21.09
       ...  
320    21.51
321    21.51
322    21.51
323    19.50
324    19.50
Name: 芳烃,v%, Length: 325, dtype: float64

# 先尝试找出第3列的异常值
# 若值大于三倍平均值则为异常值
sta = (data[x] for x in col)
sta

<generator object <genexpr> at 0x7ff54ded16d0>

data.describe().T

	count 	mean 	std 	min 	25% 	50% 	75% 	max
样本编号 	325.0 	1.630000e+02 	9.396365e+01 	1.0000 	8.200000e+01 	1.630000e+02 	2.440000e+02 	3.250000e+02
硫含量,μg/g 	325.0 	2.295492e+02 	6.574912e+01 	57.0000 	1.850000e+02 	2.403000e+02 	2.714000e+02 	3.920000e+02
辛烷值RON 	325.0 	8.970154e+01 	9.500637e-01 	85.3000 	8.920000e+01 	8.980000e+01 	9.030000e+01 	9.170000e+01
饱和烃,v%（烷烃+环烷烃） 	325.0 	5.267622e+01 	4.584318e+00 	43.2400 	4.961000e+01 	5.325000e+01 	5.610000e+01 	6.340000e+01
烯烃,v% 	325.0 	2.538920e+01 	4.954945e+00 	14.6000 	2.180000e+01 	2.480000e+01 	2.900000e+01 	3.467000e+01
... 	... 	... 	... 	... 	... 	... 	... 	...
S-ZORB.FT_1503.DACA.PV 	325.0 	9.008195e+04 	5.754798e+05 	61.5611 	1.870588e+03 	2.177558e+03 	2.569868e+03 	5.419704e+06
S-ZORB.FT_1503.TOTALIZERA.PV 	325.0 	1.521126e+07 	1.060279e+07 	0.0000 	6.520788e+06 	1.381849e+07 	2.254427e+07 	3.906312e+07
S-ZORB.FT_1504.DACA.PV 	325.0 	2.105080e+03 	1.798247e+03 	-13900.4605 	2.211860e+03 	2.538539e+03 	2.702629e+03 	3.104565e+03
S-ZORB.FT_1504.TOTALIZERA.PV 	325.0 	1.760142e+07 	1.172462e+07 	0.0000 	7.974892e+06 	1.643785e+07 	2.678945e+07 	3.960876e+07
S-ZORB.PC_1001A.PV 	325.0 	-3.327753e+01 	4.200890e+01 	-120.5605 	-7.283460e+01 	2.938000e-01 	3.501000e-01 	3.581000e-01

369 rows × 8 columns

data[col[1]]

0      2020-5-26 08:00
1      2020-5-21 08:00
2      2020-5-19 08:00
3      2020-5-14 08:00
4      2020-5-12 08:00
            ...       
320    2017-4-26 08:00
321    2017-4-24 08:00
322    2017-4-21 08:00
323    2017-4-19 08:00
324    2017-4-17 08:00
Name: 时间, Length: 325, dtype: object

data.loc[:,'时间'] = pd.to_datetime(data.loc[:,'时间'],
                                 format='%Y-%m-%d %H:%M',
                                 errors = 'coerce')

data.dtypes

样本编号                                     int64
时间                              datetime64[ns]
硫含量,μg/g                               float64
辛烷值RON                                 float64
饱和烃,v%（烷烃+环烷烃）                         float64
                                     ...      
S-ZORB.FT_1503.DACA.PV                 float64
S-ZORB.FT_1503.TOTALIZERA.PV           float64
S-ZORB.FT_1504.DACA.PV                 float64
S-ZORB.FT_1504.TOTALIZERA.PV           float64
S-ZORB.PC_1001A.PV                     float64
Length: 370, dtype: object

data.head

<bound method NDFrame.head of      样本编号                  时间  硫含量,μg/g  辛烷值RON  饱和烃,v%（烷烃+环烷烃）  烯烃,v%  芳烃,v%  \
0       1 2020-05-26 08:00:00     188.0    90.6           53.23  24.40  22.37   
1       2 2020-05-21 08:00:00     169.0    90.5           52.30  26.40  21.30   
2       3 2020-05-19 08:00:00     177.0    90.7           52.30  26.31  21.39   
3       4 2020-05-14 08:00:00     159.0    90.4           52.30  26.10  21.60   
4       5 2020-05-12 08:00:00     173.0    89.6           52.24  26.67  21.09   
..    ...                 ...       ...     ...             ...    ...    ...   
320   321 2017-04-26 08:00:00     271.4    89.2           47.19  31.30  21.51   
321   322 2017-04-24 08:00:00     271.4    89.2           47.19  31.30  21.51   
322   323 2017-04-21 08:00:00     271.4    89.4           47.19  31.30  21.51   
323   324 2017-04-19 08:00:00     266.0    89.4           46.72  33.78  19.50   
324   325 2017-04-17 08:00:00     266.0    89.9           46.72  33.78  19.50   

     溴值\n,gBr/100g  密度(20℃),\nkg/m?  硫含量,μg/g.1  ...  \
0            61.49           726.09         3.2  ...   
1            61.88           731.30         3.2  ...   
2            61.72           729.61         3.2  ...   
3            61.33           725.40         3.2  ...   
4            61.33           725.43         3.2  ...   
..             ...              ...         ...  ...   
320          52.02           725.20         3.2  ...   
321          52.02           725.20         3.2  ...   
322          52.02           725.20         3.2  ...   
323          45.45           730.00         3.6  ...   
324          45.45           730.00        11.8  ...   

     S-ZORB.CAL_1.CANGLIANG.PV  S-ZORB.FT_1006.DACA.PV  \
0                       2.0454               6368.7470   
1                       2.0260               6360.6453   
2                       1.9647               6504.9649   
3                       2.0390               6506.8250   
4                       1.9869               6560.2423   
..                         ...                     ...   
320                     3.4546               8328.9748   
321                     2.7526               8457.8608   
322                     2.9358               8246.2093   
323                     3.1740               7998.8024   
324                     2.6426               8379.9438   

     S-ZORB.FT_5204.DACA.PV  S-ZORB.FT_1006.TOTALIZERA.PV  \
0                  233.3108                   83086802.00   
1                  242.3692                   82318954.00   
2                  233.0769                   82012004.00   
3                  238.3499                   81231373.50   
4                  236.5762                   80915707.50   
..                      ...                           ...   
320                150.4416                   84087479.25   
321                148.7484                   83687113.25   
322                150.0954                   83087625.75   
323                149.5340                   82696129.75   
324                158.4092                   82306629.25   

     S-ZORB.FT_5204.TOTALIZERA.PV  S-ZORB.FT_1503.DACA.PV  \
0                      832503.795            2.216409e+03   
1                      803462.665            2.370587e+03   
2                      791925.055            2.326465e+03   
3                      762863.810            2.495224e+03   
4                      751362.300            2.807789e+03   
..                            ...                     ...   
320                   2136687.475            3.159956e+06   
321                   2129270.425            3.662122e+06   
322                   2118469.700            4.415371e+06   
323                   2110959.450            4.917538e+06   
324                   2103369.350            5.419704e+06   

     S-ZORB.FT_1503.TOTALIZERA.PV  S-ZORB.FT_1504.DACA.PV  \
0                     39063124.50               1840.1447   
1                     38810581.50               1641.7326   
2                     38693812.00               1600.6758   
3                     38410862.50               1563.7122   
4                     38283000.00               1554.3574   
..                            ...                     ...   
320                    1569503.75              -7028.1167   
321                    1521263.75              -8555.3042   
322                    1448903.75             -10846.0855   
323                    1400663.75             -12373.2728   
324                    1352423.75             -13900.4605   

     S-ZORB.FT_1504.TOTALIZERA.PV  S-ZORB.PC_1001A.PV  
0                      39608757.0              0.3533  
1                      39389299.0              0.3545  
2                      39312616.5              0.3502  
3                      39120204.5              0.3539  
4                      39045953.5              0.3581  
..                            ...                 ...  
320                     1003276.5           -118.2512  
321                      879436.8           -118.7643  
322                      693676.8           -119.5341  
323                      569836.8           -120.0473  
324                      445996.8           -120.5605  

[325 rows x 370 columns]>

data[col[3]].plot(kind='box')

<AxesSubplot:>

/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 36763 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 28919 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 20540 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 36763 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 28919 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 20540 missing from current font.
  font.set_text(s, 0, flags=flags)

data.plot(kind = 'box')

<AxesSubplot:>

/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 26679 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 26412 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 32534 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 21495 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 30827 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 21547 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 37327 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 36763 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 28919 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 20540 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 39281 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 21644 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 28867 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 65288 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 29615 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 65289 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 28911 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 33459 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 28340 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 23494 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 24230 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 25439 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 22833 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 19981 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 26159 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 21464 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 28966 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 28845 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 27682 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 27833 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 27604 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 21453 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 24212 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 36807 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 28388 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 22120 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 21387 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:238: RuntimeWarning: Glyph 24046 missing from current font.
  font.set_text(s, 0.0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 26679 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 26412 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 32534 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 21495 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 30827 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 21547 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 37327 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 36763 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 28919 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 20540 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 39281 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 21644 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 28867 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 65288 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 29615 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 65289 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 28911 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 33459 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 28340 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 23494 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 24230 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 25439 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 22833 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 19981 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 26159 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 21464 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 28966 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 28845 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 27682 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 27833 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 27604 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 21453 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 24212 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 36807 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 28388 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 22120 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 21387 missing from current font.
  font.set_text(s, 0, flags=flags)
/opt/conda/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:201: RuntimeWarning: Glyph 24046 missing from current font.
  font.set_text(s, 0, flags=flags)

可以看到还是有很多的异常点的，关于异常点的处理后续2.4会详细讲

其次我们还需查看某特征变量在在训练集和测试集中的分布情况，查看两个数据集中的数据分布是否一致。

查看某特征变量数据分布的方法主要有直方图、核密度图和Q-Q图。

直方图：直方图是一种统计报告图，形式上也是一个个的长条形，但是直方图用长条形的面积表示频数，所以长条形的高度表示(频数/组距)，宽度表示组距，其长度和宽度均有意义。当宽度相同时，一般就用长条形长度表示频数。

用hist绘制直方图

sns.__version__

'0.10.1'

sns.kdeplot(data[col[3]].shade=True)

  File "<ipython-input-49-596a7f03bd4e>", line 1
    sns.kdeplot(data[col[3]].shade=True)
               ^
SyntaxError: keyword can't be an expression

data[col[3]].values

array([90.6, 90.5, 90.7, 90.4, 89.6, 91. , 90.4, 90.5, 90.4, 90.2, 90.2,
       90.2, 89.2, 86.8, 87.8, 88.4, 87.2, 88. , 88.2, 88.8, 88.1, 88.2,
       89.6, 89. , 89.3, 89.2, 88.7, 89. , 89.7, 89.2, 89.1, 88.5, 88.4,
       88.1, 88.7, 87.5, 89.4, 89.1, 89.5, 89.7, 89.2, 89.8, 89.6, 89.5,
       89.7, 89.5, 89.6, 90. , 90.2, 89.6, 89.6, 90.1, 90.2, 90.1, 89.8,
       89.6, 89.4, 88.7, 89.4, 89.2, 89.7, 89. , 89.1, 88.8, 88.3, 88.7,
       89. , 88.5, 88. , 88.7, 90.6, 90.8, 89.3, 88.3, 88.4, 88.7, 90.1,
       90.1, 89.9, 89.1, 88. , 88.7, 89.3, 87.6, 86.9, 87.2, 90.6, 90. ,
       90.5, 90.5, 90.1, 90.4, 91.6, 91.5, 91.5, 91.3, 91.5, 91.3, 91.1,
       91. , 91.7, 91.6, 91.4, 91.2, 91.2, 91. , 91.2, 90.6, 91.2, 90.5,
       90.4, 90.9, 90.5, 91.3, 91. , 91. , 91.1, 90.6, 90.8, 91.4, 90.6,
       90.3, 90.8, 90.1, 90.2, 90.1, 90.1, 89.6, 89.6, 89.7, 89.4, 89.1,
       89.4, 89.2, 89.2, 88.6, 89.1, 89.3, 88.4, 88.5, 87.6, 85.3, 88.7,
       88.6, 88.7, 89. , 88.4, 88.7, 88.2, 88.2, 87.8, 87.9, 87.5, 88.6,
       89.1, 89.8, 90.4, 89.2, 89.4, 89.4, 90.2, 90. , 89.8, 88.8, 89.3,
       89.7, 89.6, 89.5, 89. , 88.7, 89.1, 89. , 89.8, 89.4, 89.9, 90.1,
       90.2, 89.8, 90.1, 89.8, 90. , 89.7, 89.4, 89.9, 89.1, 90.1, 88.8,
       88.3, 87.3, 87.5, 87.5, 87.8, 90.6, 90.2, 90.4, 90.3, 89.3, 89.9,
       89.4, 90. , 89.9, 89.7, 89.7, 89.7, 89.7, 89.6, 89.2, 89.4, 89.4,
       90. , 91.1, 90.9, 90.9, 91. , 91. , 90.8, 90.8, 90.7, 90.7, 90.4,
       91. , 90.6, 90.5, 90.1, 90.4, 90.4, 90.5, 90.5, 90.4, 90.3, 89.7,
       90.5, 90.4, 90.3, 90. , 90.2, 90.2, 90.3, 90.6, 90.5, 90.1, 90.1,
       89.9, 90.4, 91.4, 90.7, 90.6, 90.4, 90.5, 90.2, 90.1, 90.4, 89.9,
       89.8, 90. , 90.3, 90.5, 90.2, 90.3, 90.1, 89.9, 90.3, 90.3, 89.7,
       89.7, 89.7, 89.4, 89.6, 89.3, 89.8, 89.7, 90. , 89.7, 89.4, 90. ,
       89.9, 90. , 89.5, 89.2, 89.9, 89.9, 89.6, 89.4, 89. , 89.3, 89.3,
       89.3, 88.7, 89. , 89. , 89.1, 88.6, 89.7, 90. , 90. , 89.8, 89.7,
       89.9, 89.8, 90.3, 89.8, 90.4, 90.3, 90. , 90.7, 90.8, 90.1, 90. ,
       89.4, 90.1, 89.8, 90.1, 90.3, 89.9, 90.4, 89.5, 89.7, 89.7, 89.8,
       89.5, 89.2, 89.2, 89.4, 89.4, 89.9])

sns.heatmap(corr,annot=True) # annot 把值显示出来

---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
<ipython-input-51-8f754bf50589> in <module>
----> 1 sns.heatmap(corr,annot=True) # annot 把值显示出来

NameError: name 'corr' is not defined

from sklearn.datasets import load_iris
from sklearn.feature_selection import SelectKBest # 特征选择:选择出前k个与标签最相关的特征
from sklearn.feature_selection import chi2 # 卡方检验方法

data.describe().T

	count 	mean 	std 	min 	25% 	50% 	75% 	max
样本编号 	325.0 	1.630000e+02 	9.396365e+01 	1.0000 	8.200000e+01 	1.630000e+02 	2.440000e+02 	3.250000e+02
硫含量,μg/g 	325.0 	2.295492e+02 	6.574912e+01 	57.0000 	1.850000e+02 	2.403000e+02 	2.714000e+02 	3.920000e+02
辛烷值RON 	325.0 	8.970154e+01 	9.500637e-01 	85.3000 	8.920000e+01 	8.980000e+01 	9.030000e+01 	9.170000e+01
饱和烃,v%（烷烃+环烷烃） 	325.0 	5.267622e+01 	4.584318e+00 	43.2400 	4.961000e+01 	5.325000e+01 	5.610000e+01 	6.340000e+01
烯烃,v% 	325.0 	2.538920e+01 	4.954945e+00 	14.6000 	2.180000e+01 	2.480000e+01 	2.900000e+01 	3.467000e+01
... 	... 	... 	... 	... 	... 	... 	... 	...
S-ZORB.FT_1503.DACA.PV 	325.0 	9.008195e+04 	5.754798e+05 	61.5611 	1.870588e+03 	2.177558e+03 	2.569868e+03 	5.419704e+06
S-ZORB.FT_1503.TOTALIZERA.PV 	325.0 	1.521126e+07 	1.060279e+07 	0.0000 	6.520788e+06 	1.381849e+07 	2.254427e+07 	3.906312e+07
S-ZORB.FT_1504.DACA.PV 	325.0 	2.105080e+03 	1.798247e+03 	-13900.4605 	2.211860e+03 	2.538539e+03 	2.702629e+03 	3.104565e+03
S-ZORB.FT_1504.TOTALIZERA.PV 	325.0 	1.760142e+07 	1.172462e+07 	0.0000 	7.974892e+06 	1.643785e+07 	2.678945e+07 	3.960876e+07
S-ZORB.PC_1001A.PV 	325.0 	-3.327753e+01 	4.200890e+01 	-120.5605 	-7.283460e+01 	2.938000e-01 	3.501000e-01 	3.581000e-01

369 rows × 8 columns

sta = (data[col[64]] - data[col[2]].mean())/data[col[2]].std()
sta[:10]

0   -0.593225
1   -0.593225
2   -0.593225
3   -0.593225
4   -0.593225
5   -0.593225
6   -0.593225
7   -0.593225
8   -0.593225
9   -0.593225
Name: S-ZORB.SIS_LT_1001.PV, dtype: float64

sta.abs()[:10]>3

0    False
1    False
2    False
3    False
4    False
5    False
6    False
7    False
8    False
9    False
Name: S-ZORB.SIS_LT_1001.PV, dtype: bool

data[sta.abs()>10]

	样本编号 	时间 	硫含量,μg/g 	辛烷值RON 	饱和烃,v%（烷烃+环烷烃） 	烯烃,v% 	芳烃,v% 	溴值\n,gBr/100g 	密度(20℃),\nkg/m? 	硫含量,μg/g.1 	... 	S-ZORB.CAL_1.CANGLIANG.PV 	S-ZORB.FT_1006.DACA.PV 	S-ZORB.FT_5204.DACA.PV 	S-ZORB.FT_1006.TOTALIZERA.PV 	S-ZORB.FT_5204.TOTALIZERA.PV 	S-ZORB.FT_1503.DACA.PV 	S-ZORB.FT_1503.TOTALIZERA.PV 	S-ZORB.FT_1504.DACA.PV 	S-ZORB.FT_1504.TOTALIZERA.PV 	S-ZORB.PC_1001A.PV
160 	161 	2018-08-06 08:00:00 	225.9 	90.2 	52.50 	24.80 	22.70 	48.75 	729.7 	3.4 	... 	2.3603 	4816.9608 	153.0111 	2.956631e+06 	3.223303e+04 	1.685075e+03 	2731029.700 	2725.6621 	3671017.625 	0.3500
161 	162 	2018-08-03 08:00:00 	225.9 	90.0 	52.50 	24.80 	22.70 	48.75 	729.7 	4.6 	... 	2.3155 	4842.3269 	195.9233 	2.603882e+06 	3.168673e+04 	2.549565e+03 	2579016.375 	2579.2209 	3486488.500 	0.3495
162 	163 	2018-08-01 08:00:00 	208.0 	89.8 	57.70 	18.30 	24.00 	48.75 	729.2 	3.4 	... 	2.3377 	0.0000 	20.3707 	2.524476e+06 	3.166681e+04 	1.984242e+03 	2474899.125 	2473.0677 	3364253.350 	0.2938
163 	164 	2018-07-30 08:00:00 	208.0 	88.8 	57.70 	18.30 	24.00 	48.75 	729.2 	3.2 	... 	2.3403 	4223.7043 	69.3782 	2.387942e+06 	3.166632e+04 	1.974879e+03 	2374792.450 	2697.5435 	3240118.325 	-0.2194
164 	165 	2018-07-27 08:00:00 	208.0 	89.3 	57.70 	18.30 	24.00 	48.75 	729.2 	3.2 	... 	2.3008 	4323.3975 	192.7892 	2.076278e+06 	3.166632e+04 	2.186535e+03 	2225012.525 	2409.5192 	3055705.625 	-0.9891
... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	... 	...
320 	321 	2017-04-26 08:00:00 	271.4 	89.2 	47.19 	31.30 	21.51 	52.02 	725.2 	3.2 	... 	3.4546 	8328.9748 	150.4416 	8.408748e+07 	2.136687e+06 	3.159956e+06 	1569503.750 	-7028.1167 	1003276.500 	-118.2512
321 	322 	2017-04-24 08:00:00 	271.4 	89.2 	47.19 	31.30 	21.51 	52.02 	725.2 	3.2 	... 	2.7526 	8457.8608 	148.7484 	8.368711e+07 	2.129270e+06 	3.662122e+06 	1521263.750 	-8555.3042 	879436.800 	-118.7643
322 	323 	2017-04-21 08:00:00 	271.4 	89.4 	47.19 	31.30 	21.51 	52.02 	725.2 	3.2 	... 	2.9358 	8246.2093 	150.0954 	8.308763e+07 	2.118470e+06 	4.415371e+06 	1448903.750 	-10846.0855 	693676.800 	-119.5341
323 	324 	2017-04-19 08:00:00 	266.0 	89.4 	46.72 	33.78 	19.50 	45.45 	730.0 	3.6 	... 	3.1740 	7998.8024 	149.5340 	8.269613e+07 	2.110959e+06 	4.917538e+06 	1400663.750 	-12373.2728 	569836.800 	-120.0473
324 	325 	2017-04-17 08:00:00 	266.0 	89.9 	46.72 	33.78 	19.50 	45.45 	730.0 	11.8 	... 	2.6426 	8379.9438 	158.4092 	8.230663e+07 	2.103369e+06 	5.419704e+06 	1352423.750 	-13900.4605 	445996.800 	-120.5605

165 rows × 370 columns
需要注意的数据
辛烷值RON
饱和烃,v%（烷烃+环烷烃）

要寻找的是对以上两个值影响最大的10 ~ 20 个属性 寻找相关性最高的十几个属性

一般来说，在取绝对值后，

0~0.09表示没有相关性
0.1~0.3为弱相关
0.3~0.5为中等相关
0.5~1.0为强相关

data[col[0]]

0        1
1        2
2        3
3        4
4        5
      ... 
320    321
321    322
322    323
323    324
324    325
Name: 样本编号, Length: 325, dtype: int64

data[col[1]]

0     2020-05-26 08:00:00
1     2020-05-21 08:00:00
2     2020-05-19 08:00:00
3     2020-05-14 08:00:00
4     2020-05-12 08:00:00
              ...        
320   2017-04-26 08:00:00
321   2017-04-24 08:00:00
322   2017-04-21 08:00:00
323   2017-04-19 08:00:00
324   2017-04-17 08:00:00
Name: 时间, Length: 325, dtype: datetime64[ns]

corr = np.corrcoef(data[col[6]], data[col[7]])

data[col[6]], data[col[7]] 分别指的是辛烷值RON 饱和烃,v%（烷烃+环烷烃）

sns.heatmap(corr,annot=True) # annot 把值显示出来

<AxesSubplot:>

sns.regplot(data[col[6]].values, data[col[7]].values, line_kws={'color':'r'})

<AxesSubplot:>

data.head(5)

	样本编号 	时间 	硫含量,μg/g 	辛烷值RON 	饱和烃,v%（烷烃+环烷烃） 	烯烃,v% 	芳烃,v% 	溴值\n,gBr/100g 	密度(20℃),\nkg/m? 	硫含量,μg/g.1 	... 	S-ZORB.CAL_1.CANGLIANG.PV 	S-ZORB.FT_1006.DACA.PV 	S-ZORB.FT_5204.DACA.PV 	S-ZORB.FT_1006.TOTALIZERA.PV 	S-ZORB.FT_5204.TOTALIZERA.PV 	S-ZORB.FT_1503.DACA.PV 	S-ZORB.FT_1503.TOTALIZERA.PV 	S-ZORB.FT_1504.DACA.PV 	S-ZORB.FT_1504.TOTALIZERA.PV 	S-ZORB.PC_1001A.PV
0 	1 	2020-05-26 08:00:00 	188.0 	90.6 	53.23 	24.40 	22.37 	61.49 	726.09 	3.2 	... 	2.0454 	6368.7470 	233.3108 	83086802.0 	832503.795 	2216.4094 	39063124.5 	1840.1447 	39608757.0 	0.3533
1 	2 	2020-05-21 08:00:00 	169.0 	90.5 	52.30 	26.40 	21.30 	61.88 	731.30 	3.2 	... 	2.0260 	6360.6453 	242.3692 	82318954.0 	803462.665 	2370.5874 	38810581.5 	1641.7326 	39389299.0 	0.3545
2 	3 	2020-05-19 08:00:00 	177.0 	90.7 	52.30 	26.31 	21.39 	61.72 	729.61 	3.2 	... 	1.9647 	6504.9649 	233.0769 	82012004.0 	791925.055 	2326.4654 	38693812.0 	1600.6758 	39312616.5 	0.3502
3 	4 	2020-05-14 08:00:00 	159.0 	90.4 	52.30 	26.10 	21.60 	61.33 	725.40 	3.2 	... 	2.0390 	6506.8250 	238.3499 	81231373.5 	762863.810 	2495.2236 	38410862.5 	1563.7122 	39120204.5 	0.3539
4 	5 	2020-05-12 08:00:00 	173.0 	89.6 	52.24 	26.67 	21.09 	61.33 	725.43 	3.2 	... 	1.9869 	6560.2423 	236.5762 	80915707.5 	751362.300 	2807.7891 	38283000.0 	1554.3574 	39045953.5 	0.3581

5 rows × 370 columns

# 在这需要去除时间列
# 因为时间与对象无关

data_new = data.drop(col[1], axis = 1)

data_new.head(5)

	样本编号 	硫含量,μg/g 	辛烷值RON 	饱和烃,v%（烷烃+环烷烃） 	烯烃,v% 	芳烃,v% 	溴值\n,gBr/100g 	密度(20℃),\nkg/m? 	硫含量,μg/g.1 	辛烷值RON.1 	... 	S-ZORB.CAL_1.CANGLIANG.PV 	S-ZORB.FT_1006.DACA.PV 	S-ZORB.FT_5204.DACA.PV 	S-ZORB.FT_1006.TOTALIZERA.PV 	S-ZORB.FT_5204.TOTALIZERA.PV 	S-ZORB.FT_1503.DACA.PV 	S-ZORB.FT_1503.TOTALIZERA.PV 	S-ZORB.FT_1504.DACA.PV 	S-ZORB.FT_1504.TOTALIZERA.PV 	S-ZORB.PC_1001A.PV
0 	1 	188.0 	90.6 	53.23 	24.40 	22.37 	61.49 	726.09 	3.2 	89.22 	... 	2.0454 	6368.7470 	233.3108 	83086802.0 	832503.795 	2216.4094 	39063124.5 	1840.1447 	39608757.0 	0.3533
1 	2 	169.0 	90.5 	52.30 	26.40 	21.30 	61.88 	731.30 	3.2 	89.32 	... 	2.0260 	6360.6453 	242.3692 	82318954.0 	803462.665 	2370.5874 	38810581.5 	1641.7326 	39389299.0 	0.3545
2 	3 	177.0 	90.7 	52.30 	26.31 	21.39 	61.72 	729.61 	3.2 	89.32 	... 	1.9647 	6504.9649 	233.0769 	82012004.0 	791925.055 	2326.4654 	38693812.0 	1600.6758 	39312616.5 	0.3502
3 	4 	159.0 	90.4 	52.30 	26.10 	21.60 	61.33 	725.40 	3.2 	89.02 	... 	2.0390 	6506.8250 	238.3499 	81231373.5 	762863.810 	2495.2236 	38410862.5 	1563.7122 	39120204.5 	0.3539
4 	5 	173.0 	89.6 	52.24 	26.67 	21.09 	61.33 	725.43 	3.2 	88.32 	... 	1.9869 	6560.2423 	236.5762 	80915707.5 	751362.300 	2807.7891 	38283000.0 	1554.3574 	39045953.5 	0.3581

5 rows × 369 columns

提取20个

col = data_new.columns
col
col[8]

'硫含量,μg/g.1'

col[9]

'辛烷值RON.1'

K = 20
# topK_corr_features = train_corr.nlargest(K,'target')['target'].index 
topK_corr1 = data_new.nlargest(K, '硫含量,μg/g.1')['硫含量,μg/g.1'].index
topK_corr1

Int64Index([324, 286, 295, 213, 210, 306, 315,  47, 292, 312,  45, 300, 264,
            266,  86, 240,  44, 310, 199,  41],
           dtype='int64')

K = 20
# topK_corr_features = train_corr.nlargest(K,'target')['target'].index 
topK_corr2 = data_new.nlargest(K, '辛烷值RON.1')['辛烷值RON.1'].index
topK_corr2

Int64Index([101,  96, 119,  92,  93,  94,  95, 102, 103,  97, 244, 210, 100,
            108,  98, 116, 213, 104, 211, 214],
           dtype='int64')

col[324]

'S-ZORB.TC_3102.DACA'

sns.regplot(data_new['硫含量,μg/g.1'].values, data_new['S-ZORB.TC_3102.DACA'].values, line_kws={'color':'r'})

<AxesSubplot:>

for i in topK_corr1:
    print(col[i])

S-ZORB.TC_3102.DACA
S-ZORB.PT_7503.DACA
S-ZORB.PT_7103.DACA
S-ZORB.PDT_3602.DACA
S-ZORB.TE_5001.DACA
S-ZORB.TE_1603.DACA
S-ZORB.TE_3112.DACA
S-ZORB.PT_9403.PV
S-ZORB.TE_7102B.DACA
S-ZORB.SIS_TEX_3103B.PV
S-ZORB.FT_9001.PV
S-ZORB.TC_1607.DACA
S-ZORB.PDT_3502.DACA
S-ZORB.PDT_3002.DACA
S-ZORB.LC_1202.PV
S-ZORB.PDT_2605.DACA
S-ZORB.PT_9001.PV
S-ZORB.TXE_3201A.DACA
S-ZORB.PDI_2501.DACA
S-ZORB.FT_5101.PV

for i in topK_corr1:
    print(col[i])

S-ZORB.FT_9102.PV
S-ZORB.TE_2601.PV
S-ZORB.FT_9403.TOTAL
S-ZORB.FC_3103.PV
S-ZORB.FC_2601.PV
S-ZORB.PC_2601.PV
S-ZORB.PDT_2604.PV
S-ZORB.PT_1501.PV
S-ZORB.FT_1002.TOTAL
S-ZORB.TC_2607.PV
S-ZORB.TE_2608.DACA
S-ZORB.TE_5001.DACA
S-ZORB.PDC_2607.PV
S-ZORB.FT_5101.TOTAL
S-ZORB.AI_2903.PV
S-ZORB.FT_9302.TOTAL
S-ZORB.PDT_3602.DACA
S-ZORB.FT_1004.TOTAL
S-ZORB.FT_2002.DACA
S-ZORB.PT_6006.DACA

data_news = pd.DataFrame

data_news

pandas.core.frame.DataFrame

data_news.insert(data_new[col[0]])

---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-99-6579f207479a> in <module>
----> 1 data_news.insert(data_new[col[0]])

TypeError: insert() missing 3 required positional arguments: 'loc', 'column', and 'value'

 

